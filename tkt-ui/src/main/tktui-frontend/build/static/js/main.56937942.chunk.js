(this["webpackJsonptktui-frontend"]=this["webpackJsonptktui-frontend"]||[]).push([[0],{85:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),c=n(9),o=n.n(c),r=n(30),i=n(31),l=n(37),j=n(36),d=n(51),h=n(49),b=n.n(h),u=n(121),O=n(127),g=n(131),m=n(130),p=n(124),f=n(128),x=n(129),v=n(126),w=n(7),k=Object(u.a)({tableContainer:{width:350,marginLeft:"auto",marginRight:"auto"},table:{width:350}}),y=function(e){var t=e.data,n=k();return Object(w.jsx)(p.a,{className:n.tableContainer,component:v.a,children:Object(w.jsxs)(O.a,{className:n.table,"aria-label":"simple table",children:[Object(w.jsx)(f.a,{children:Object(w.jsxs)(x.a,{children:[Object(w.jsx)(m.a,{children:"Id"}),Object(w.jsx)(m.a,{align:"right",children:"Message Content"})]})}),Object(w.jsx)(g.a,{children:t.messages.map((function(e,t){return Object(w.jsxs)(x.a,{children:[Object(w.jsx)(m.a,{component:"th",scope:"row",children:e.id}),Object(w.jsx)(m.a,{align:"right",children:e.message})]},t)}))})]})})},S=n(52),C=n(132),N=n(133),J=function(){var e=Object(a.useState)(""),t=Object(S.a)(e,2),n=t[0],s=t[1];return Object(w.jsxs)("div",{style:{textAlign:"center",marginBottom:"10px"},children:[Object(w.jsx)(C.a,{id:"outlined-basic",label:"Type a Msg",variant:"outlined",onChange:function(e){return s(e.target.value)}}),Object(w.jsx)(N.a,{variant:"contained",color:"primary",onClick:function(){var e;(e=n)?fetch("http://localhost:9009/tkt-sender/message/send",{method:"POST",body:new URLSearchParams({msg:e})}):alert("Enter a message")},children:"Send"})]})},M=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={messages:[]},e.ws=new WebSocket("ws://localhost:9002/tkt-listener/app"),e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.ws.onopen=function(){console.log("connected")},this.ws.onmessage=function(t){var n=JSON.parse(t.data);e.setState({messages:[].concat(Object(d.a)(e.state.messages),[n])}),console.log(n)},this.ws.onclose=function(e){console.log("disconnected",e)},b.a.get("http://localhost:9009/tkt-index/messages").then((function(t){e.setState(t.data._embedded)})).catch(console.error)}},{key:"render",value:function(){return Object(w.jsxs)("div",{children:[Object(w.jsx)(J,{}),this.state.messages.length>0?Object(w.jsx)(y,{data:this.state}):"No Data"]})}}]),n}(s.a.Component),A=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(w.jsx)(M,{})}}]),n}(s.a.Component);o.a.render(Object(w.jsx)(A,{}),document.getElementById("root"))}},[[85,1,2]]]);
//# sourceMappingURL=main.56937942.chunk.js.map