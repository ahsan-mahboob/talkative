{"version":3,"sources":["components/list/list.component.jsx","components/list/send.component.jsx","pages/home/home.component.jsx","App.js","index.js"],"names":["useStyles","makeStyles","tableContainer","width","marginLeft","marginRight","table","List","data","classes","TableContainer","className","component","Paper","Table","aria-label","TableHead","TableRow","TableCell","align","TableBody","messages","map","row","index","scope","id","message","Send","useState","setMessage","style","textAlign","marginBottom","TextField","label","variant","onChange","e","target","value","Button","color","onClick","msg","fetch","method","body","URLSearchParams","alert","Home","state","ws","WebSocket","this","onopen","console","log","onmessage","evt","JSON","parse","setState","onclose","axios","get","then","result","_embedded","catch","error","length","React","Component","App","ReactDOM","render","document","getElementById"],"mappings":"0SAUMA,EAAYC,YAAW,CACzBC,eAAgB,CACdC,MAAO,IACPC,WAAY,OACZC,YAAa,QAEfC,MAAO,CACHH,MAAO,OA8BAI,EA1BF,SAAC,GAAY,IAAXC,EAAU,EAAVA,KACLC,EAAUT,IAChB,OACI,cAACU,EAAA,EAAD,CAAgBC,UAAWF,EAAQP,eAAgBU,UAAWC,IAA9D,SACA,eAACC,EAAA,EAAD,CAAOH,UAAWF,EAAQH,MAAOS,aAAW,eAA5C,UACE,cAACC,EAAA,EAAD,UACE,eAACC,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,iBACA,cAACA,EAAA,EAAD,CAAWC,MAAM,QAAjB,kCAGJ,cAACC,EAAA,EAAD,UACGZ,EAAKa,SAASC,KAAI,SAACC,EAAKC,GAAN,OACjB,eAACP,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,CAAWN,UAAU,KAAKa,MAAM,MAAhC,SACGF,EAAIG,KAEP,cAACR,EAAA,EAAD,CAAWC,MAAM,QAAjB,SAA0BI,EAAII,YAJjBH,c,0BCDdI,EA5BF,WACT,MAA8BC,mBAAS,IAAvC,mBAAOF,EAAP,KAAgBG,EAAhB,KAiBA,OACI,sBAAKC,MAAO,CAACC,UAAW,SAAUC,aAAc,QAAhD,UACI,cAACC,EAAA,EAAD,CAAWR,GAAG,iBAAiBS,MAAM,aAAaC,QAAQ,WAAWC,SAAU,SAACC,GAAD,OAAOR,EAAWQ,EAAEC,OAAOC,UAC1G,cAACC,EAAA,EAAD,CAAQL,QAAQ,YAAYM,MAAM,UAAUC,QAAS,WAlB1C,IAACC,KAkB0DjB,GAZ1EkB,MAAM,gDAAiD,CAC/CC,OAAQ,OACRC,KAAM,IAAIC,gBAAgB,CACtBJ,UAPRK,MAAM,oBAgBN,sBC+BGC,E,4MAjDXC,MAAQ,CACJ9B,SAAU,I,EAOd+B,GAAK,IAAIC,UAAU,wC,uDAEnB,WAAqB,IAAD,OAChBC,KAAKF,GAAGG,OAAS,WAEbC,QAAQC,IAAI,cAGhBH,KAAKF,GAAGM,UAAY,SAAAC,GAEhB,IAAMhC,EAAUiC,KAAKC,MAAMF,EAAInD,MAC/B,EAAKsD,SAAS,CAAEzC,SAAS,GAAD,mBAAM,EAAK8B,MAAM9B,UAAjB,CAA2BM,MACnD6B,QAAQC,IAAI9B,IAGhB2B,KAAKF,GAAGW,QAAU,SAAAJ,GACdH,QAAQC,IAAI,eAAgBE,IAI/BK,IAAMC,IAAN,4CACEC,MAAK,SAAAC,GACH,EAAKL,SAASK,EAAO3D,KAAK4D,cAE5BC,MAAMb,QAAQc,S,oBAGrB,WACI,OAEA,gCACI,cAAC,EAAD,IAEAhB,KAAKH,MAAM9B,SAASkD,OAAS,EAAK,cAAC,EAAD,CAAM/D,KAAM8C,KAAKH,QAAY,iB,GA1CxDqB,IAAMC,WCGVC,E,4JALb,WACE,OAAO,cAAC,EAAD,Q,GAFOF,IAAMC,WCCxBE,IAASC,OACP,cAAC,EAAD,IACAC,SAASC,eAAe,W","file":"static/js/main.56937942.chunk.js","sourcesContent":["import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\nconst useStyles = makeStyles({\r\n    tableContainer: {\r\n      width: 350,\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto'\r\n    },\r\n    table: {\r\n        width: 350,\r\n    }\r\n  });\r\n\r\nconst List = ({data}) => {\r\n    const classes = useStyles();\r\n    return (\r\n        <TableContainer className={classes.tableContainer} component={Paper}>\r\n        <Table className={classes.table} aria-label=\"simple table\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell>Id</TableCell>\r\n              <TableCell align=\"right\">Message Content</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {data.messages.map((row, index) => (\r\n              <TableRow key={index}>\r\n                <TableCell component=\"th\" scope=\"row\">\r\n                  {row.id}\r\n                </TableCell>\r\n                <TableCell align=\"right\">{row.message}</TableCell>\r\n              </TableRow>\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n    )\r\n}\r\n\r\nexport default List;","import React, { useState } from \"react\"\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button'\r\n\r\n\r\nconst Send = () => {\r\n    const [message, setMessage] = useState('')\r\n\r\n    const btnCLicked = (msg) => {\r\n        if(!msg) {\r\n            alert('Enter a message')\r\n            return\r\n        }\r\n        //const message = { msg: msg };\r\n        fetch('http://localhost:9009/tkt-sender/message/send', {\r\n                method: 'POST',\r\n                body: new URLSearchParams({\r\n                    msg\r\n                })\r\n            });\r\n\r\n    }\r\n\r\n    return (\r\n        <div style={{textAlign: 'center', marginBottom: '10px'}}>\r\n            <TextField id=\"outlined-basic\" label=\"Type a Msg\" variant=\"outlined\" onChange={(e) => setMessage(e.target.value)}/>\r\n            <Button variant=\"contained\" color=\"primary\" onClick={() => btnCLicked(message)}>\r\n                Send\r\n            </Button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Send","import React, { useState, useEffect, useRef } from \"react\";\r\nimport axios from 'axios';\r\n\r\nimport List from \"../../components/list/list.component\";\r\nimport Send from \"../../components/list/send.component\";\r\n\r\n\r\nclass Home extends React.Component {\r\n    state = {\r\n        messages: []\r\n    }\r\n    //const [msgData, setMsgData] = useState({messages: []});\r\n    //const webSocket = useRef(null);\r\n    // instance of websocket connection as a class property\r\n    //ws = new WebSocket('ws://dcd01988:8080/tkt-listener-1.0.0.0/app')\r\n    \r\n    ws = new WebSocket('ws://localhost:9002/tkt-listener/app')\r\n\r\n    componentDidMount() {\r\n        this.ws.onopen = () => {\r\n            // on connecting, do nothing but log it to the console\r\n            console.log('connected')\r\n        }\r\n\r\n        this.ws.onmessage = evt => {\r\n        // listen to data sent from the websocket server\r\n            const message = JSON.parse(evt.data)\r\n            this.setState({ messages: [...this.state.messages, message] })\r\n            console.log(message)\r\n        }\r\n\r\n        this.ws.onclose = evt => {\r\n            console.log('disconnected', evt)\r\n            // automatically try to reconnect on connection loss\r\n        }\r\n\r\n         axios.get(`http://localhost:9009/tkt-index/messages`)\r\n          .then(result => {\r\n             this.setState(result.data._embedded)\r\n          })\r\n          .catch(console.error)\r\n    }\r\n\r\n    render(){\r\n        return (\r\n\r\n        <div>\r\n            <Send/>\r\n         { \r\n            this.state.messages.length > 0 ? (<List data={this.state}/>) : \"No Data\" \r\n         } \r\n         </div>\r\n         )\r\n    }\r\n\r\n}\r\n\r\nexport default Home;","import React from \"react\";\r\n\r\nimport Home from \"./pages/home/home.component\";\r\n\r\nclass App extends React.Component {\r\n  render() {\r\n    return <Home />;\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n  <App />,\r\n  document.getElementById(\"root\")\r\n);"],"sourceRoot":""}